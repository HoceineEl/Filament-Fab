document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".fab-action").forEach(o=>{o.addEventListener("click",function(t){let n=t.currentTarget.dataset.action;document.dispatchEvent(new CustomEvent("fab:action",{detail:{action:n}}))})})});window.Alpine&&window.Alpine.data("floatingActionButton",(o={})=>({open:!1,dragging:!1,position:{top:100,left:100},offset:{x:0,y:0},init(){o=o||{};let t=o.defaultPosition||"bottom-right",n=o.rememberPosition!==void 0?o.rememberPosition:!0,i=this.getDefaultPositionCoordinates(t);if(n){let e=JSON.parse(localStorage.getItem("FAB-position"));e?this.position=e:this.position=i}else this.position=i;window.addEventListener("mousemove",e=>this.onDrag(e)),window.addEventListener("mouseup",()=>this.stopDragging())},getDefaultPositionCoordinates(t){let i=window.innerWidth,e=window.innerHeight;switch(t){case"bottom-right":return{top:e-100,left:i-100};case"bottom-left":return{top:e-100,left:100};case"top-right":return{top:100,left:i-100};case"top-left":return{top:100,left:100};default:return{top:e-100,left:i-100}}},toggleMenu(){this.open=!this.open},startDragging(t){t.target.closest(".menu-items")||(this.dragging=!0,this.offset={x:t.clientX-this.position.left,y:t.clientY-this.position.top})},stopDragging(){this.dragging&&(this.dragging=!1,o.rememberPosition!==!1&&localStorage.setItem("FAB-position",JSON.stringify(this.position)))},onDrag(t){if(!this.dragging)return;this.position={top:t.clientY-this.offset.y,left:t.clientX-this.offset.x};let n=this.$refs.container;if(!n)return;let i=n.getBoundingClientRect();this.position.left<0&&(this.position.left=0),this.position.top<0&&(this.position.top=0),this.position.left+i.width>window.innerWidth&&(this.position.left=window.innerWidth-i.width),this.position.top+i.height>window.innerHeight&&(this.position.top=window.innerHeight-i.height)}}));
